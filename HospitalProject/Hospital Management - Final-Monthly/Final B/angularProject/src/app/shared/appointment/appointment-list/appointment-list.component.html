<div class="container mt-5">
    <h2 class="text-center">Appointments List</h2>

    <div *ngIf="isLoading" class="text-center">
        <p>Loading appointments...</p>
    </div>

    <div *ngIf="!isLoading && appointments.length === 0" class="text-center">
        <p>No appointments found.</p>
    </div>

    <div *ngIf="appointments.length > 0">
        <div class="appointment-table">
            <div class="appointment-header">
                <div>Patient Name</div>
                <div>Email</div>
                <div>Phone</div>
                <div>Date</div>
                <div>Time</div>
                <div>Doctor</div>
                <div>Assign Doctor</div>
            </div>

            <div class="appointment-row" *ngFor="let appointment of appointments">
                <div>{{ appointment.name }}</div>
                <div>{{ appointment.email }}</div>
                <div>{{ appointment.phone }}</div>
                <div>{{ appointment.date | date: 'shortDate' }}</div>
                <div>{{ appointment.time }}</div>
                <div>{{ appointment.doctor?.name || 'Not Assigned' }}</div>
                <div>
                    <select [(ngModel)]="selectedDoctorId" class="form-control">
                        <option value="">Select Doctor</option>
                        <option *ngFor="let doctor of doctors" [value]="doctor.id">{{ doctor.name }}</option>
                    </select>
                    <button (click)="assignDoctor(appointment, selectedDoctorId)"
                        class="btn btn-primary mt-2">Assign</button>
                </div>
            </div>
        </div>
    </div>
</div>
