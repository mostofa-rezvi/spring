<div *ngIf="prescription">
  <h2>Prescription Details</h2>

  <!-- Patient Details Section -->
  <div class="invoice-header">
    <h4>Patient Details:</h4>
    <p><strong>Name:</strong> {{ prescription.user.name || 'No User Assigned' }}</p>
    <p><strong>Mobile:</strong> {{ prescription.user.cell }}</p>
    <p><strong>Email:</strong> {{ prescription.user.email }}</p>
    <p><strong>Address:</strong> {{ prescription.user.address }}</p>
  </div>

  <!-- Medicines Table -->
  <h4>Medicines:</h4>
  <table class="table">
    <thead>
      <tr>
        <th>Medicine Name</th>
        <th>Strength</th>
        <th>Instructions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let medicine of prescription.medicine">
        <td>{{ medicine.medicineName }}</td>
        <td>{{ medicine.medicineStrength }}</td>
        <td>{{ medicine.instructions }}</td>
      </tr>
    </tbody>
  </table>

  <!-- Tests Table -->
  <h4>Tests:</h4>
  <table class="table">
    <thead>
      <tr>
        <th>Test Name</th>
        <th>Description</th>
        <th>Instructions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let test of prescription.test ? [prescription.test] : []">
        <td>{{ test.testName }}</td>
        <td>{{ test.description }}</td>
        <td>{{ test.instructions }}</td>
      </tr>
    </tbody>
  </table>

  <!-- Notes Section -->
  <h4>Notes:</h4>
  <p class="highlight">{{ prescription.notes }}</p>

  <!-- Print Button -->
  <button class="btn btn-secondary" (click)="printPrescription()">Print Prescription</button>
</div>

<div *ngIf="!prescription">
  <p>Loading prescription details...</p>
</div>
